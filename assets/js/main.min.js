function enableActiveCard(e){0<document.querySelectorAll("[data-card]").length&&(6<e&&e<9?document.querySelector('[data-card="summer"]').classList.add("has-ribbon"):document.querySelector('[data-card="winter"]').classList.add("has-ribbon"))}function hasError(e){var t=e.validity;if("submit"!==e.type&&"button"!==e.type&&!t.valid)return t.valueMissing?"Bitte füllen Sie dieses Feld aus.":t.tooShort?"Ihr Text ist zu kurz.":t.patternMismatch||t.typeMismatch?"Bitte geben Sie eine gültige E-Mail ein.":void 0}function handleBlur(e){if(e.target.form.hasAttribute("data-contact-form")){var t=hasError(e.target);t?showError(e.target,t):removeError(e.target)}}function showError(e,t){e.classList.add("has-error");var r=e.id||e.name;if(r){var n=e.form.querySelector("[data-form-error]#error-for-"+r);n||((n=document.createElement("p")).className="form-error",n.id="error-for-"+r,n.setAttribute("data-form-error",!0),e.parentNode.insertBefore(n,e.nextSibling)),e.setAttribute("aria-describedby","error-for-"+r),n.innerHTML=t}}function removeError(e){e.classList.remove("has-error"),e.removeAttribute("aria-describedby");var t=e.id||e.name;if(t){var r=e.form.querySelector("[data-form-error]#error-for-"+t);r&&e.parentNode.removeChild(r)}}function handleSubmit(e){e.preventDefault();var t=this.elements,r=null;if(!this.querySelector("input.js-tricky").checked){for(var n=0;n<t.length;n++){var a=hasError(t[n]);a&&(showError(t[n],a),r||(r=t[n]))}r?r.focus():(submitButton.disabled=!0,submitButton.textContent="Nachricht wird gesendet...",sendForm(e.target))}}function sendForm(e){var t=new XMLHttpRequest,r=new FormData(e);r.append("action","submit_form_data"),t.addEventListener("load",handleFormSuccess),t.addEventListener("error",handleFormError),t.open("POST","/wp-admin/admin-ajax.php"),t.send(r)}function handleFormSuccess(e){4===this.readyState&&(200===this.status?(submitButton.textContent="Nachricht gesendet",showMessage("Vielen Dank, Ihre Nachricht wurde gesendet. Wir werden uns demnächst bei Ihnen melden.")):(submitButton.textContent="Fehler beim Senden der Nachricht.",showMessage("Leider ist beim Senden Ihrer Nachricht ein Fehler aufgetreten. Bitte versuchen Sie es direkt an info@zaehringer-huette.de.",!0)))}function showMessage(e,t){var r=document.createElement("p");r.textContent=e,r.classList.add("success-message"),contactForm.appendChild(r),t||setTimeout(function(){contactForm.removeChild(r)},5e3)}function handleFormError(){submitButton.textContent="Fehler beim Senden der Nachricht.",showMessage("Leider ist beim Senden Ihrer Nachricht ein Fehler aufgetreten. Bitte versuchen Sie es direkt an info@zaehringer-huette.de.",!0)}function toggleMobileMenu(e,t){var r=t.querySelector("use"),n=t.querySelector("span");e.classList.contains("is-open")?(e.classList.remove("is-open"),n.textContent="Menu anzeigen",r.setAttribute("xlink:href",r.getAttribute("xlink:href").replace("#icon-close","#icon-menu"))):(e.classList.add("is-open"),n.textContent="Menu schließen",r.setAttribute("xlink:href",r.getAttribute("xlink:href").replace("#icon-menu","#icon-close")))}function getPrice(){var e=6<month&&month<9?200:250,t=6<month&&month<9?20:30,r=document.querySelectorAll("td.datepick-current-day").length,n=parseInt(document.querySelector("select#count1").value),a=e*r+60+2.7*r*n;return 4<r&&(a=e*r-r*e*20/100+60+2.7*r*n),4<n&&(a+=t),parseFloat(a).toFixed(2)}var month=(new Date).getMonth();enableActiveCard(month);var menuToggle=document.querySelector("[data-menu-button]"),menuWrapper=document.querySelector("[data-menu]");menuToggle.addEventListener("click",function(){toggleMobileMenu(menuWrapper,menuToggle)});var contactForm=document.querySelector("[data-contact-form]");if(contactForm){var submitButton=contactForm.querySelector("button");contactForm.setAttribute("novalidate",!0),contactForm.addEventListener("submit",handleSubmit),contactForm.addEventListener("blur",handleBlur,!0)}new Litebox({el:".gallery a"}),document.addEventListener("DOMContentLoaded",function(){var t=document.createElement("p");t.textContent="Bitte wählen Sie Tage aus, um die Kosten hier zu sehen.",t.classList.add("final-price"),document.querySelector(".wpbc_structure_calendar").appendChild(t),document.body.addEventListener("click",function(e){(e.target.matches("td.date_available")||e.target.parentNode.matches("td.date_available"))&&(t.textContent="Gschätzte Kosten: "+getPrice(month)+"€")}),document.body.addEventListener("change",function(e){e.target.matches("select#count1")&&(t.textContent="Gschätzte Kosten: "+getPrice(month)+"€")})});